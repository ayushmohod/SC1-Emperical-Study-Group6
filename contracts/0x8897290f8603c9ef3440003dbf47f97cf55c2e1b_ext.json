{"status": "1", "message": "OK", "result": [{"SourceCode": "pragma solidity ^0.4.22;\r\ncontract Ownable {\r\n  address public owner;\r\n\r\n  event OwnershipRenounced(address indexed previousOwner);\r\n  event OwnershipTransferred(\r\n    address indexed previousOwner,\r\n    address indexed newOwner\r\n  );\r\n\r\n  /**\r\n   * @dev \u53ef\u62e5\u6709\u7684\u6784\u9020\u51fd\u6570\u5c06\u5408\u540c\u7684\u539f\u59cb\u201c\u6240\u6709\u8005\u201d\u8bbe\u7f6e\u4e3a\u53d1\u9001\u8005\r\n   * account.\r\n   */\r\n  constructor() public {\r\n    owner = msg.sender;\r\n  }\r\n\r\n  /**\r\n   * @dev \u5982\u679c\u7531\u6240\u6709\u8005\u4ee5\u5916\u7684\u4efb\u4f55\u5e10\u6237\u8c03\u7528\uff0c\u5219\u629b\u51fa\r\n   */\r\n  modifier onlyOwner() {\r\n    require(msg.sender == owner);\r\n    _;\r\n  }\r\n\r\n  /**\r\n   * @dev \u5141\u8bb8\u4e1a\u4e3b\u653e\u5f03\u5408\u540c\u7684\u63a7\u5236\u6743.\r\n   */\r\n  function renounceOwnership() public onlyOwner {\r\n    emit OwnershipRenounced(owner);\r\n    owner = address(0);\r\n  }\r\n\r\n  /**\r\n   * @dev \u5141\u8bb8\u5f53\u524d\u6240\u6709\u8005\u5c06\u5408\u540c\u7684\u63a7\u5236\u8f6c\u79fb\u7ed9\u65b0\u6240\u6709\u8005.\r\n   */\r\n  function transferOwnership(address _newOwner) public onlyOwner {\r\n    _transferOwnership(_newOwner);\r\n  }\r\n\r\n  /**\r\n   * @dev \u5c06\u5408\u540c\u7684\u63a7\u5236\u6743\u79fb\u4ea4\u7ed9\u65b0\u6240\u6709\u8005.\r\n   */\r\n  function _transferOwnership(address _newOwner) internal {\r\n    require(_newOwner != address(0));\r\n    emit OwnershipTransferred(owner, _newOwner);\r\n    owner = _newOwner;\r\n  }\r\n}\r\n\r\ncontract TokenMall is Ownable {\r\n  /**\r\n   * @dev \u62b5\u62bc\u7269\u4e0a\u94fe\u4fe1\u606f.\r\n   */\r\n  struct MortgageInfo {\r\n      bytes32 projectId;//\u9879\u76eeID \r\n      string currency;//\u62b5\u62bc\u5e01\u79cd \r\n      string mortgageAmount;//\u62b5\u62bc\u6570\u91cf \r\n      string releaseAmount;//\u91ca\u653e\u6570\u91cf \r\n  }\r\n  mapping(bytes32 =>MortgageInfo) mInfo;\r\n  bytes32[] mortgageInfos;\r\n   \r\n  /**\r\n   * @dev \u6dfb\u52a0\u6570\u636e.\r\n   */\r\n    event MessageMintInfo(address sender,bool isScuccess,string message);\r\n    function mintMortgageInfo(string _projectId,string currency,string mortgageAmount,string releaseAmount) onlyOwner{\r\n        bytes32 proId = stringToBytes32(_projectId);\r\n        if(mInfo[proId].projectId != proId){\r\n              mInfo[proId].projectId = proId;\r\n              mInfo[proId].currency = currency;\r\n              mInfo[proId].mortgageAmount = mortgageAmount;\r\n              mInfo[proId].releaseAmount = releaseAmount;\r\n              mortgageInfos.push(proId);\r\n              MessageMintInfo(msg.sender, true,\"\u6dfb\u52a0\u6210\u529f\");\r\n            return;\r\n        }else{\r\n             MessageMintInfo(msg.sender, false,\"\u9879\u76eeID\u5df2\u7ecf\u5b58\u5728\");\r\n            return;\r\n        }\r\n    }\r\n  /**\r\n   * @dev \u66f4\u65b0\u6570\u636e.\r\n   */\r\n    event MessageUpdateInfo(address sender,bool isScuccess,string message);\r\n    function updateMortgageInfo(string _projectId,string releaseAmount) onlyOwner{\r\n         bytes32 proId = stringToBytes32(_projectId);\r\n        if(mInfo[proId].projectId == proId){\r\n              mInfo[proId].releaseAmount = releaseAmount;\r\n              mortgageInfos.push(proId);\r\n              MessageUpdateInfo(msg.sender, true,\"\u4fee\u6539\u6210\u529f\");\r\n            return;\r\n        }else{\r\n             MessageUpdateInfo(msg.sender, false,\"\u9879\u76eeID\u4e0d\u5b58\u5728\");\r\n            return;\r\n        }\r\n    }\r\n     \r\n     \r\n  /**\r\n   * @dev \u67e5\u8be2\u6570\u636e.\r\n   */\r\n    function getMortgageInfo(string _projectId) \r\n    public view returns(string projectId,string currency,string mortgageAmount,string releaseAmount){\r\n         \r\n         bytes32 proId = stringToBytes32(_projectId);\r\n         \r\n         MortgageInfo memory mi = mInfo[proId];\r\n        \r\n        return (_projectId,mi.currency,mi.mortgageAmount,mi.releaseAmount);\r\n    }\r\n    \r\n     /// string\u7c7b\u578b\u8f6c\u5316\u4e3abytes32\u578b\u8f6c\r\n    function stringToBytes32(string memory source) constant internal returns(bytes32 result){\r\n        assembly{\r\n            result := mload(add(source,32))\r\n        }\r\n    }\r\n    /// bytes32\u7c7b\u578b\u8f6c\u5316\u4e3astring\u578b\u8f6c\r\n    function bytes32ToString(bytes32 x) constant internal returns(string){\r\n        bytes memory bytesString = new bytes(32);\r\n        uint charCount = 0 ;\r\n        for(uint j = 0 ; j<32;j++){\r\n            byte char = byte(bytes32(uint(x) *2 **(8*j)));\r\n            if(char !=0){\r\n                bytesString[charCount] = char;\r\n                charCount++;\r\n            }\r\n        }\r\n        bytes memory bytesStringTrimmed = new bytes(charCount);\r\n        for(j=0;j<charCount;j++){\r\n            bytesStringTrimmed[j]=bytesString[j];\r\n        }\r\n        return string(bytesStringTrimmed);\r\n    }\r\n\r\n}", "ABI": "[{\"constant\":true,\"inputs\":[{\"name\":\"_projectId\",\"type\":\"string\"}],\"name\":\"getMortgageInfo\",\"outputs\":[{\"name\":\"projectId\",\"type\":\"string\"},{\"name\":\"currency\",\"type\":\"string\"},{\"name\":\"mortgageAmount\",\"type\":\"string\"},{\"name\":\"releaseAmount\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_projectId\",\"type\":\"string\"},{\"name\":\"currency\",\"type\":\"string\"},{\"name\":\"mortgageAmount\",\"type\":\"string\"},{\"name\":\"releaseAmount\",\"type\":\"string\"}],\"name\":\"mintMortgageInfo\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_projectId\",\"type\":\"string\"},{\"name\":\"releaseAmount\",\"type\":\"string\"}],\"name\":\"updateMortgageInfo\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"sender\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"isScuccess\",\"type\":\"bool\"},{\"indexed\":false,\"name\":\"message\",\"type\":\"string\"}],\"name\":\"MessageMintInfo\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"sender\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"isScuccess\",\"type\":\"bool\"},{\"indexed\":false,\"name\":\"message\",\"type\":\"string\"}],\"name\":\"MessageUpdateInfo\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"previousOwner\",\"type\":\"address\"}],\"name\":\"OwnershipRenounced\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"}]", "ContractName": "TokenMall", "CompilerVersion": "v0.4.24+commit.e67f0147", "OptimizationUsed": "0", "Runs": "200", "ConstructorArguments": "", "EVMVersion": "Default", "Library": "", "LicenseType": "", "Proxy": "0", "Implementation": "", "SwarmSource": "bzzr://54ce2893ffb06b2f4035c7da12f01a748180b508fe8baa62fe9866b5b1959f62"}]}